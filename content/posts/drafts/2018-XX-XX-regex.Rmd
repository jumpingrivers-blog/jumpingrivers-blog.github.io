---
title: "The Top 5 Regular Expressions"
author: "Theo Roe"
date: 2018-XX-XX
output: html_document
image: "img/2018/regex.png"
draft: TRUE
slug: "regular_ex"
tags: [R, regex, regular, expression, stringr]
---

Regular expressions. How they can be cruel! Well we're here to make them a tad easier. To do so we're going to make use of the **stringr** package
```{r, eval = FALSE}
install.packages("stringr")
```
```{r}
library("stringr")
```
In particular the `str_extract()` and `str_extract_all()` functions which take the form 
```{r, eval = FALSE}
str_extract(STRING, REGEX_PATTERN)
str_extract_all(STRING, REGEX_PATTERN)
```

So, in no particular order (I feel like I'm on X factor), here comes the Jumping Rivers' 5 most useful regular expressions:

## 1 - .

The dot. The dot means anything. So match one character or number, it doesn't matter what it is. For instance, say we have an e-mail address stored
```{r}
email = "theo:jr@jumpingrivers.2017.com"
```
If we use `str_extract()` 
```{r}
str_extract(email, ".")
```
we get the first character that matches the regular expression, ., which is the letter `t`, as the dot matches everything. If we use `str_extract_all()`
```{r}
str_extract_all(email, ".")
```
we get every string that matches our regular expression. So every individual character. What about 
```{r}
str_extract_all(email, "..")
```
Now we have two dots in a row. So we are saying give us all strings that match any two characters or numbers in a row.

## 2 - \\

When typing regular expressions, there are a group of special characters called metacharacters that have other functions. These are:    
\.\{()\\\^$\|\?\*\+

The backslash is important because if we want to search for any of these characters we must escape the character with a backslash. For example, we've already seen the "." as a metacharacter as it's use. What if we wanted to search for the actual dot? 
```{r, error = TRUE}
str_extract_all(email, "\.")
```
Hang on a second, what? Ah yes. The backslash is a metacharacter too! So to create a backslash for the function to search with, we need to escape the backslash! 
```{r}
str_extract_all(email, "\\.?")
```

Much better.

## 3 - []

The square brackets. We can match a group of characters or digits using the square brackets. For instance any lower case letters
```{r}
str_extract_all(email, "[a-z]")
```
or all lower case and upper case letters
```{r}
str_extract_all(email, "[a-zA-Z]")
```
and digits
```{r}
str_extract_all(email, "[a-zA-Z0-9]")
```
If we wanted to include the dot or dash we can include them also but this time we don't have to escape them
```{r}
str_extract_all(email, "[a-zA-Z0-9.-]")
```

## 4 - *

The asterisk. The asterisk is used for grabbing anything our expression of the same form
```{r}
str_extract(email, "[a-z]*")
```

So here we're searching for the first lower case letter (in this case the first character `t`) and then continuing along the string until the character is no longer a lower case letter. If we do 
```{r}
str_extract(email, "[a-z:]*")
```
We grab the first character that is either a lower case letter or a colon, and continue along til the character is neither of them.

## 5 


.       - Any Character Except New Line
\d      - Digit (0-9)
\D      - Not a Digit (0-9)
\w      - Word Character (a-z, A-Z, 0-9, _)
\W      - Not a Word Character
\s      - Whitespace (space, tab, newline)
\S      - Not Whitespace (space, tab, newline)

\b      - Word Boundary
\B      - Not a Word Boundary
^       - Beginning of a String
$       - End of a String

[]      - Matches Characters in brackets
[^ ]    - Matches Characters NOT in brackets
|       - Either Or
( )     - Group

Quantifiers:
*       - 0 or More
+       - 1 or More
?       - 0 or One
{3}     - Exact Number
{3,4}   - Range of Numbers (Minimum, Maximum)
